`map.yaml` 파일과 `map.pgm` 파일은 ROS(로봇 운영 시스템) 내비게이션 스택에서 맵을 나타내는 데 함께 사용됩니다. 각 파일의 역할과 원리를 설명하겠습니다:

1. `map.yaml`: 이 YAML 파일은 맵에 대한 메타데이터를 포함합니다. 일반적으로 다음 매개변수를 포함합니다:
   - 점유 데이터를 포함하는 이미지 파일(`.pgm` 또는 `.png`).
   - 맵의 해상도(미터/픽셀).
   - 원점, 맵 이미지의 왼쪽 하단 픽셀의 위치를 세계 좌표계에서 지정합니다.
   - 점유 임계값은 맵의 픽셀이 빈 공간, 점유된 공간, 또는 알 수 없는 공간으로 해석되는 방법을 결정합니다.

2. `map.pgm`: 이 PGM(휴대용 그레이맵) 파일은 점유 그리드 맵 자체를 나타냅니다. 그레이스케일 이미지에서 각 픽셀의 값은 환경의 해당 영역의 점유 상태를 나타냅니다:
   - 검은색 픽셀은 점유된 공간을 나타냅니다.
   - 흰색 픽셀은 빈 공간을 나타냅니다.
   - 회색 픽셀은 알 수 없는 영역을 나타냅니다.

이 파일들은 ROS의 `map_server` 노드에 의해 사용되어, `amcl`의 위치 파악이나 `move_base`의 계획과 같은 다른 노드에 2D 맵을 제공합니다.

`map.yaml` 파일에서 이 파일들이 어떻게 참조되는지 예시는 다음과 같습니다:

```yaml
image: map.pgm
resolution: 0.05
origin: [0.0, 0.0, 0.0]
occupied_thresh: 0.65
free_thresh: 0.196
```

이 YAML 파일은 `map.pgm`이 점유 데이터 파일이며 해상도는 픽셀 당 5cm, 원점은 세계 좌표(0,0)에 위치하고, 점유 값 해석을 위한 임계값을 설정합니다.